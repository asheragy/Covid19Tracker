(this.webpackJsonpcovid19tracker=this.webpackJsonpcovid19tracker||[]).push([[0],{151:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(41),o=t.n(i),s=(t(49),t(3)),c=t(4),u=t.n(c),l=t(9),v=t(6),d=(t(51),t(42));var h=function(e){r.a.createRef();var a={labels:e.dates,datasets:e.dataSets.map((function(e){return{fill:!1,label:e.label,data:e.data,pointBackgroundColor:e.color,pointBorderColor:e.color,backgroundColor:e.color,borderColor:e.color,borderWidth:2,pointRadius:2}}))};return r.a.createElement(d.Line,{data:a,options:{maintainAspectRatio:!1},height:400})};var k=function(e){return r.a.createElement("select",{onChange:function(a){e.onStateChange(a.target.value)}},p.map((function(e){return a=e.key,t=e.value,r.a.createElement("option",{value:a},t);var a,t})))};var p=[{key:"us",value:"United States"},{key:"AL",value:"Alabama"},{key:"AK",value:"Alaska"},{key:"AZ",value:"Arizona"},{key:"AR",value:"Arkansas"},{key:"CA",value:"California"},{key:"CO",value:"Colorado"},{key:"CT",value:"Connecticut"},{key:"DE",value:"Delaware"},{key:"FL",value:"Florida"},{key:"GA",value:"Georgia"},{key:"HI",value:"Hawaii"},{key:"ID",value:"Idaho"},{key:"IL",value:"Illinois"},{key:"IN",value:"Indiana"},{key:"IA",value:"Iowa"},{key:"KS",value:"Kansas"},{key:"KY",value:"Kentucky"},{key:"LA",value:"Louisiana"},{key:"ME",value:"Maine"},{key:"MD",value:"Maryland"},{key:"MA",value:"Massachusetts"},{key:"MI",value:"Michigan"},{key:"MN",value:"Minnesota"},{key:"MS",value:"Mississippi"},{key:"MO",value:"Missouri"},{key:"MT",value:"Montana"},{key:"NE",value:"Nebraska"},{key:"NV",value:"Nevada"},{key:"NH",value:"New Hampshire"},{key:"NJ",value:"New Jersey"},{key:"NM",value:"New Mexico"},{key:"NY",value:"New York"},{key:"NC",value:"North Carolina"},{key:"ND",value:"North Dakota"},{key:"OH",value:"Ohio"},{key:"OK",value:"Oklahoma"},{key:"OR",value:"Oregon"},{key:"PA",value:"Pennsylvania"},{key:"RI",value:"Rhode Island"},{key:"SC",value:"South Carolina"},{key:"SD",value:"South Dakota"},{key:"TN",value:"Tennessee"},{key:"TX",value:"Texas"},{key:"UT",value:"Utah"},{key:"VT",value:"Vermont"},{key:"VA",value:"Virginia"},{key:"WA",value:"Washington"},{key:"WV",value:"West Virginia"},{key:"WI",value:"Wisconsin"},{key:"WY",value:"Wyoming"}],y=t(43),m=function e(){Object(s.a)(this,e),this.positive=[],this.positiveNormalized=[],this.deaths=[],this.active=[],this.percentPositive=[],this.percentChange=[],this.dates=[]},f=function e(a,t,n){Object(s.a)(this,e),this.color=void 0,this.data=void 0,this.label=void 0,this.label=a,this.color=t,this.data=n},g=function(){function e(){Object(s.a)(this,e)}return Object(y.a)(e,[{key:"getSingleData",value:function(){var e=Object(l.a)(u.a.mark((function e(a){var t,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="us"==a?"https://api.covidtracking.com/v1/us/daily.json":"https://api.covidtracking.com/v1/states/".concat(a.toLowerCase(),"/daily.json"),console.log(t),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,i=Array(r)[0].reverse(),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"getSeries",value:function(){var e=Object(l.a)(u.a.mark((function e(a){var t,n,r,i,o,s,c,l,v,d,h,k,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSingleData(a);case 2:return t=e.sent,console.log("Got ".concat(t.length," entries")),n=t.findIndex((function(e){return e.positive>=10})),r=t.slice(n),i=r.slice(7).map((function(e,a){return e.positive-r[a].positive})),o=i.map((function(e){return Math.round(e/7)})),s=r.slice(7).map((function(e,a){var t=e.totalTestResults-r[a].totalTestResults;return t<0&&(t=e.totalTestsViral-r[a].totalTestsViral),t})),c=i.map((function(e,a){var t=e/s[a];return Math.min(t,.5)})),l=i.map((function(e,a){var t=c[a];return e*(t*=2*t)+e})),v=l.map((function(e){return Math.round(e/7)})),d=r.slice(7).map((function(e,a){return e.death-r[a].death})),h=d.map((function(e){return Math.round(10*e/7)/10})),k=r.map((function(e,a){return a>=14?r[a].positive-r[a-14].positive:e.positive})).slice(7),(p=new m).dates=r.map((function(e){var a=e.date.toString(),t=a.substr(0,4)+"-"+a.substr(4,2)+"-"+a.substr(6,2);return new Date(t)})).slice(7),p.positive=o,p.positiveNormalized=v,p.deaths=h,p.active=k,p.percentPositive=c.map((function(e){return Math.round(1e4*e)/100})),p.percentChange=v.map((function(e,a){if(a<7)return 0;var t=(e-v[a-7])/v[a-7];return t>1?100:Math.round(1e4*t)/100})),e.abrupt("return",p);case 24:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),e}(),b="chart",N="large",O="small";var w=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)([]),s=Object(v.a)(o,2),c=s[0],d=s[1],p=Object(n.useState)([]),y=Object(v.a)(p,2),m=y[0],w=y[1],M=Object(n.useState)([]),C=Object(v.a)(M,2),E=C[0],j=C[1],A=Object(n.useState)([]),D=Object(v.a)(A,2),I=D[0],T=D[1],x=Object(n.useState)([]),R=Object(v.a)(x,2),L=R[0],V=R[1],W=function(){var e=Object(l.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g,e.next=3,t.getSeries(a);case 3:n=e.sent,i(n.dates.map((function(e){return e.getUTCMonth()+1+"/"+e.getUTCDate()}))),d([new f("Positive / Day",S.LightBlue,n.positive),new f("Normalized",S.Blue,n.positiveNormalized)]),w([new f("Deaths / Day",S.Red,n.deaths)]),j([new f("Active cases",S.Green,n.active)]),T([new f("% Positive",S.Yellow,n.percentPositive)]),V([new f("% Change",S.Orange,n.percentChange)]);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(k,{onStateChange:W}),r.a.createElement("div",{className:"chart"},r.a.createElement("div",{className:"chart-row"},r.a.createElement("div",{className:"".concat(b," ").concat(N)},r.a.createElement(h,{dates:t,dataSets:c})),r.a.createElement("div",{className:"".concat(b," ").concat(O)},r.a.createElement(h,{dates:t,dataSets:m}))),r.a.createElement("div",{className:"chart-row"},r.a.createElement("div",{className:"".concat(b," ").concat(O)},r.a.createElement(h,{dates:t,dataSets:E})),r.a.createElement("div",{className:"".concat(b," ").concat(O)},r.a.createElement(h,{dates:t,dataSets:I})),r.a.createElement("div",{className:"".concat(b," ").concat(O)},r.a.createElement(h,{dates:t,dataSets:L})))))},S=function e(){Object(s.a)(this,e)};S.Blue="rgba(34,132,245,1.0)",S.LightBlue="rgba(54,162,235,1.0)",S.Red="rgb(255,99,132)",S.Green="rgb(75, 192,192)",S.Yellow="rgb(250, 244, 82)",S.Orange="rgb(255,159,64)",o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))},44:function(e,a,t){e.exports=t(151)},49:function(e,a,t){},51:function(e,a,t){}},[[44,1,2]]]);
//# sourceMappingURL=main.fba6ae82.chunk.js.map